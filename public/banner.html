<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Banner</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: white;
            color: #333;
        }
        
        .content {
            padding: 50px 20px;
            text-align: center;
        }
        
        .content h1 {
            color: #7c3aed;
            margin-bottom: 20px;
        }
        
        .test-btn {
            background: #7c3aed;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }
        
        /* Cookie Banner */
        .cookie-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .cookie-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .cookie-card h3 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 18px;
        }
        
        .cookie-card p {
            margin: 0 0 20px 0;
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .cookie-card a {
            color: #7c3aed;
            text-decoration: none;
        }
        
        .cookie-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .cookie-btn {
            padding: 12px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            width: 100%;
        }
        
        .btn-accept {
            background: #22c55e;
            color: white;
        }
        
        .btn-settings {
            background: white;
            color: #7c3aed;
            border: 1px solid #7c3aed;
        }
        
        .btn-reject {
            background: #f3f4f6;
            color: #666;
        }
        
        /* Modal */
        .cookie-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        
        .modal-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            max-width: 450px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-card h3 {
            margin: 0 0 20px 0;
            text-align: center;
            color: #333;
        }
        
        .setting {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 8px 0;
            background: #f9f9f9;
            border-radius: 6px;
        }
        
        .setting input {
            margin-right: 10px;
        }
        
        .setting-info {
            flex: 1;
            font-size: 14px;
        }
        
        .setting-info strong {
            display: block;
            margin-bottom: 2px;
        }
        
        .setting-info small {
            color: #666;
            font-size: 12px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }
        
        .modal-btn {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn-cancel {
            background: #f3f4f6;
            color: #666;
        }
        
        .btn-save {
            background: #7c3aed;
            color: white;
        }
        
        /* Mobile */
        @media (max-width: 640px) {
            .cookie-card {
                padding: 20px;
                margin: 15px;
            }
            
            .cookie-card h3 {
                font-size: 16px;
            }
            
            .cookie-card p {
                font-size: 13px;
            }
            
            .cookie-btn {
                padding: 10px 14px;
                font-size: 13px;
            }
            
            .modal-card {
                padding: 20px;
                margin: 15px;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
        }
        
        .hide {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>üç™ Cookie Banner Test</h1>
        <p>Einfache Version die definitiv funktioniert!</p>
        <button class="test-btn" onclick="showBanner()">Banner anzeigen</button>
    </div>

    <!-- Cookie Banner -->
    <div id="banner" class="cookie-banner">
        <div class="cookie-card">
            <h3>üç™ Cookies</h3>
            <p>
                Wir nutzen Cookies f√ºr Grundfunktionen und - mit deiner Zustimmung - f√ºr Statistiken.
                <a href="#">Mehr erfahren</a>
            </p>
            <div class="cookie-buttons">
                <button class="cookie-btn btn-accept" onclick="accept()">
                    Alle akzeptieren
                </button>
                <button class="cookie-btn btn-settings" onclick="settings()">
                    Einstellungen
                </button>
                <button class="cookie-btn btn-reject" onclick="reject()">
                    Nur notwendige
                </button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="cookie-modal">
        <div class="modal-card">
            <h3>Cookie-Einstellungen</h3>
            
            <div class="setting">
                <input type="checkbox" id="necessary" checked disabled>
                <div class="setting-info">
                    <strong>Notwendig</strong>
                    <small>F√ºr Grundfunktionen erforderlich</small>
                </div>
            </div>
            
            <div class="setting">
                <input type="checkbox" id="stats">
                <div class="setting-info">
                    <strong>Statistik</strong>
                    <small>Zur Verbesserung der Website</small>
                </div>
            </div>
            
            <div class="setting">
                <input type="checkbox" id="marketing">
                <div class="setting-info">
                    <strong>Marketing</strong>
                    <small>F√ºr personalisierte Werbung</small>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn btn-cancel" onclick="closeModal()">
                    Abbrechen
                </button>
                <button class="modal-btn btn-save" onclick="save()">
                    Speichern
                </button>
            </div>
        </div>
    </div>

    <script>
        // Einfache globale Funktionen
        function showBanner() {
            console.log('Banner anzeigen');
            document.getElementById('banner').classList.remove('hide');
        }
        
        function hideBanner() {
            console.log('Banner verstecken');
            document.getElementById('banner').classList.add('hide');
        }
        
        function accept() {
            console.log('Alle akzeptiert');
            localStorage.setItem('cookies', JSON.stringify({
                necessary: true,
                stats: true,
                marketing: true,
                date: new Date().toISOString()
            }));
            hideBanner();
        }
        
        function reject() {
            console.log('Nur notwendige akzeptiert');
            localStorage.setItem('cookies', JSON.stringify({
                necessary: true,
                stats: false,
                marketing: false,
                date: new Date().toISOString()
            }));
            hideBanner();
        }
        
        function settings() {
            console.log('Einstellungen √∂ffnen');
            // Aktuelle Werte laden
            try {
                const saved = JSON.parse(localStorage.getItem('cookies') || '{}');
                document.getElementById('stats').checked = saved.stats || false;
                document.getElementById('marketing').checked = saved.marketing || false;
            } catch(e) {
                console.log('Fehler beim Laden der Einstellungen');
            }
            document.getElementById('modal').style.display = 'flex';
        }
        
        function closeModal() {
            console.log('Modal schlie√üen');
            document.getElementById('modal').style.display = 'none';
        }
        
        function save() {
            console.log('Einstellungen speichern');
            const stats = document.getElementById('stats').checked;
            const marketing = document.getElementById('marketing').checked;
            
            localStorage.setItem('cookies', JSON.stringify({
                necessary: true,
                stats: stats,
                marketing: marketing,
                date: new Date().toISOString()
            }));
            
            closeModal();
            hideBanner();
        }
        
        // Modal schlie√üen bei Klick au√üerhalb
        document.getElementById('modal').onclick = function(e) {
            if (e.target === this) {
                closeModal();
            }
        };
        
        // Beim Laden pr√ºfen
        window.onload = function() {
            try {
                const saved = localStorage.getItem('cookies');
                if (!saved) {
                    console.log('Keine Cookies gefunden, Banner anzeigen');
                    showBanner();
                } else {
                    console.log('Cookies gefunden, Banner verstecken');
                    hideBanner();
                }
            } catch(e) {
                console.log('Fehler beim Pr√ºfen der Cookies');
                showBanner();
            }
        };
        
        // Globale Funktion f√ºr sp√§teren Aufruf
        window.openCookieSettings = function() {
            showBanner();
            settings();
        };
    </script>
</body>
</html>