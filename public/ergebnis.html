<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dein Style-Profil ist bereit - Clara's Analyse</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #667eea;
            --primary-dark: #5a6fd8;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #00d4aa;
            --warning-color: #ff6b6b;
            --text-dark: #2c3e50;
            --text-light: #6c757d;
            --bg-light: #f8fafc;
            --white: #ffffff;
            --shadow-light: 0 2px 10px rgba(0,0,0,0.05);
            --shadow-medium: 0 8px 30px rgba(0,0,0,0.12);
            --shadow-heavy: 0 20px 60px rgba(0,0,0,0.15);
            --border-radius: 16px;
            --border-radius-small: 8px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
            font-size: 16px;
        }

        /* STICKY URGENCY BAR */
        .urgency-bar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-medium);
        }

        .urgency-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 40px;
            text-align: center;
        }

        .urgency-left {
            display: flex;
            flex-direction: column;
            gap: 5px;
            align-items: center;
        }

        .urgency-text {
            font-weight: 600;
            font-size: 15px;
        }

        .data-deletion-note {
            font-size: 12px;
            opacity: 0.9;
            font-weight: 400;
        }

        .urgency-number {
            color: #ffeb3b;
            font-weight: 800;
            font-size: 18px;
        }

        .timer {
            background: rgba(255,255,255,0.15);
            padding: 8px 16px;
            border-radius: var(--border-radius-small);
            backdrop-filter: blur(10px);
            font-weight: 700;
            color: #ffeb3b;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* HERO SECTION */
        .hero {
            background: linear-gradient(135deg, var(--white) 0%, #f1f3ff 100%);
            padding: 60px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23667eea" stop-opacity="0.05"/><stop offset="100%" stop-color="%23667eea" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="200" r="200" fill="url(%23a)"/><circle cx="800" cy="800" r="300" fill="url(%23a)"/></svg>');
            pointer-events: none;
        }

        .hero-badge {
            background: linear-gradient(135deg, var(--success-color), #22C55E);
            color: var(--white);
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            margin: 0 auto 20px auto;
            display: inline-block;
        }

        .hero-title {
            font-size: clamp(38px, 8vw, 48px);
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .name-highlight {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        .hero-subtitle {
            font-size: 16px;
            color: var(--text-light);
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.4;
        }

        /* RESULTS SECTION */
        .results-section {
            padding: 60px 0;
            background: var(--white);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .result-card {
            background: var(--white);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            border: 2px solid var(--primary-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
            border-color: var(--secondary-color);
        }

        .result-icon {
            font-size: 36px;
            margin-bottom: 15px;
            display: block;
            text-align: center;
        }

        .result-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
            line-height: 1.4;
            text-align: center;
        }

        .result-text {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 14px;
            text-align: left;
        }

        .result-highlight {
            color: var(--primary-color);
            font-weight: 600;
            font-style: normal;
        }

        /* RESULTS CTA SECTION */
        .results-cta-section {
            margin-top: 40px;
            text-align: center;
        }

        .results-cta-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 40px 30px;
            border-radius: var(--border-radius);
            color: var(--white);
            max-width: 600px;
            margin: 0 auto;
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
        }

        .results-cta-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="200" r="150" fill="url(%23a)"/><circle cx="800" cy="800" r="200" fill="url(%23a)"/></svg>');
            pointer-events: none;
        }

        .results-cta-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }

        .results-cta-subtitle {
            font-size: 16px;
            margin-bottom: 25px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            line-height: 1.5;
        }

        .results-cta-button {
            background: var(--white);
            color: var(--primary-color);
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 700;
            border-radius: var(--border-radius-small);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .results-cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            background: #f8fafc;
        }

        /* PREVIEW SECTION */
        .preview-section {
            padding: 60px 0;
            background: var(--bg-light);
        }

        .preview-card {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
            padding: 50px 40px;
            border: 2px solid var(--success-color);
            position: relative;
        }

        .preview-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            z-index: 10;
        }

        .preview-title {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 15px;
            color: var(--text-dark);
            margin-top: 25px;
            padding-top: 10px;
            line-height: 1.3;
        }

        .insight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .insight-item {
            background: #f8fafc;
            padding: 20px;
            border-radius: var(--border-radius-small);
            border: 2px solid var(--primary-color);
            position: relative;
        }

        .insight-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: var(--border-radius-small);
            margin-bottom: 15px;
            margin-top: 10px;
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
            pointer-events: none;
        }

        /* PDF Preview Effect */
        .insight-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                transparent 0%,
                rgba(255,255,255,0.1) 25%,
                rgba(255,255,255,0.2) 50%,
                rgba(255,255,255,0.1) 75%,
                transparent 100%
            );
            pointer-events: none;
            z-index: 1;
        }

        .insight-image::after {
            content: 'PDF Vorschau';
            position: absolute;
            bottom: 6px;
            right: 6px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 3px 6px;
            border-radius: 3px;
            font-size: 9px;
            font-weight: 600;
            z-index: 2;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            pointer-events: none;
        }

        /* Add shadow and slight blur to suggest it's a preview */
        .insight-item:hover .insight-image {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transform: scale(1.02);
            transition: all 0.3s ease;
        }

        .insight-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .insight-text {
            color: var(--text-light);
            font-size: 14px;
            line-height: 1.5;
        }

        .unlock-section {
            background: linear-gradient(135deg, #f8fafc, var(--white));
            padding: 40px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 2px solid var(--primary-color);
            margin-top: 40px;
        }

        .clara-analysis-section {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
            text-align: left;
        }

        .clara-analysis-image {
            width: 220px;
            height: auto;
            min-height: 160px;
            border-radius: var(--border-radius-small);
            object-fit: cover;
            border: 3px solid var(--primary-color);
            flex-shrink: 0;
        }

        .clara-analysis-content {
            flex: 1;
        }

        .unlock-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 10px;
            text-align: left;
        }

        .unlock-subtitle {
            color: var(--text-light);
            margin-bottom: 0;
            font-size: 15px;
            text-align: left;
        }

        .unlock-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 30px;
        }

        .unlock-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            font-size: 14px;
            color: var(--text-dark);
        }

        .unlock-feature .icon {
            color: var(--success-color);
            font-weight: bold;
        }

        /* GUARANTEE SECTION */
        .guarantee-section {
            background: linear-gradient(135deg, #f8fafc, #ffffff);
            border: 1px solid #e2e8f0;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 25px;
            text-align: center;
        }

        .guarantee-icon {
            margin-bottom: 15px;
        }

        .guarantee-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .guarantee-text {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .guarantee-text strong {
            color: var(--success-color);
            font-weight: 600;
        }

        .guarantee-stats {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .guarantee-avatars {
            display: flex;
            margin-left: 8px;
        }

        .avatar-item {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-left: -8px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .avatar-item:first-child {
            margin-left: 0;
        }

        .guarantee-rating {
            text-align: left;
        }

        .stars {
            font-size: 14px;
            margin-bottom: 3px;
            color: #fbbf24;
        }

        .stats-text {
            font-size: 12px;
            color: var(--text-light);
            font-weight: 500;
        }

        /* PRICING SECTION */
        .pricing-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #f1f3ff 0%, var(--bg-light) 100%);
        }

        .pricing-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title {
            font-size: clamp(32px, 4vw, 48px);
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .section-subtitle {
            font-size: 18px;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .pricing-card {
            max-width: 600px;
            margin: 0 auto;
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
            padding: 50px;
            border: 2px solid var(--primary-color);
            position: relative;
        }

        .popular-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .sales-indicator {
            background: var(--white);
            color: var(--text-dark);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            margin: 0 auto 25px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-align: center;
            max-width: fit-content;
            border: 1px solid #22C55E;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.3);
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            background: #22C55E;
            border-radius: 50%;
            animation: pulse-live 2s infinite;
        }

        @keyframes pulse-live {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.7;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .price-container {
            margin-bottom: 15px;
            text-align: center;
        }

        .price-old {
            font-size: 24px;
            color: var(--text-light);
            text-decoration: line-through;
            margin-right: 15px;
        }

        .price-new {
            font-size: 52px;
            font-weight: 900;
            color: var(--text-dark);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .price-note {
            color: var(--text-light);
            margin-bottom: 30px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 10px;
            margin-bottom: 40px;
        }

        .benefit {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            background: #f8fafc;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .benefit:hover {
            background: #f1f3ff;
            transform: translateX(2px);
        }

        .benefit-icon {
            color: var(--success-color);
            font-size: 16px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .benefit-text {
            font-size: 14px;
            color: var(--text-dark);
            line-height: 1.3;
            font-weight: 500;
        }

        .main-cta {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            border: none;
            padding: 20px 50px;
            font-size: 18px;
            font-weight: 700;
            border-radius: var(--border-radius);
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }

        .main-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .main-cta:hover::before {
            left: 100%;
        }

        .main-cta:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-heavy);
        }

        .trust-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .trust-item {
            background: var(--white);
            border: 1px solid #e2e8f0;
            border-radius: var(--border-radius-small);
            padding: 20px 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .trust-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .trust-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }

        .trust-text {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-dark);
            line-height: 1.3;
        }

        /* TESTIMONIALS */
        .testimonials-section {
            padding: 80px 0;
            background: var(--white);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .testimonial {
            background: var(--white);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .testimonial:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        .testimonial-before-after {
            width: 100%;
            height: 200px;
            background: #f8fafc;
            border-radius: var(--border-radius-small);
            margin-bottom: 25px;
            margin-top: 15px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        .before-after-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--border-radius-small);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .testimonial-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
        }

        .testimonial-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 5px;
        }

        .testimonial-stars {
            color: #fbbf24;
            font-size: 14px;
        }

        .testimonial-text {
            font-style: italic;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* FOOTER */
        .footer {
            background: var(--text-dark);
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .footer-section p,
        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            line-height: 1.6;
        }

        .footer-section a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            border-top: 1px solid #34495e;
            padding-top: 30px;
            text-align: center;
            color: #95a5a6;
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
        }

        .security-badges {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .security-badge {
            background: rgba(255,255,255,0.1);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
        }

        /* MOBILE RESPONSIVE */
        @media (max-width: 768px) {
            .urgency-content {
                flex-direction: column;
                gap: 10px;
            }

            .hero {
                padding: 40px 0;
            }

            .container {
                padding: 0 15px;
            }

            .results-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .result-card,
            .testimonial {
                padding: 20px 15px;
            }

            .results-cta-card {
                padding: 30px 20px;
                margin: 0 15px;
            }

            .results-cta-title {
                font-size: 20px;
            }

            .results-cta-subtitle {
                font-size: 15px;
            }

            /* Improved mobile image handling */
            .insight-image {
                height: 220px;
                width: 100%;
                object-fit: cover;
                border-radius: var(--border-radius-small);
                margin-top: 15px;
                margin-bottom: 20px;
            }

            .clara-analysis-section {
                flex-direction: column;
                text-align: center;
                gap: 20px;
                margin-top: 20px;
            }

            .clara-analysis-image {
                width: 100%;
                max-width: 320px;
                height: 240px;
                margin: 15px auto 0 auto;
                object-fit: cover;
            }

            .testimonial-before-after {
                height: 320px;
                margin-bottom: 25px;
                margin-top: 20px;
                width: 100%;
            }

            .before-after-image {
                height: 100%;
                width: 100%;
                object-fit: cover;
            }

            .testimonial-header {
                margin-bottom: 15px;
            }

            .testimonial-avatar {
                width: 45px;
                height: 45px;
                margin-right: 12px;
                object-fit: cover;
            }

            .testimonial-name {
                font-size: 15px;
            }

            .testimonial-stars {
                font-size: 13px;
            }

            .unlock-title,
            .unlock-subtitle {
                text-align: center;
            }

            .unlock-features {
                grid-template-columns: 1fr;
            }

            .preview-card {
                padding: 25px 15px;
            }

            .pricing-card {
                padding: 30px 15px;
            }

            .insight-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .insight-item {
                padding: 15px;
            }

            .benefits-grid {
                grid-template-columns: 1fr;
            }

            .trust-indicators {
                grid-template-columns: repeat(2, 1fr);
            }

            /* Mobile guarantee section improvements */
            .guarantee-section {
                padding: 20px 15px;
            }

            .guarantee-stats {
                flex-direction: column;
                gap: 15px;
            }

            .guarantee-avatars {
                justify-content: center;
            }

            .guarantee-rating {
                text-align: center;
            }

            /* Mobile hero improvements */
            .hero-title {
                font-size: clamp(36px, 7vw, 48px);
                line-height: 1.1;
            }

            .hero-subtitle {
                font-size: 15px;
                padding: 0 10px;
            }
        }

        /* Extra small mobile devices */
        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }

            .insight-image {
                height: 200px;
            }

            .clara-analysis-image {
                height: 220px;
                max-width: 300px;
            }

            .testimonial-before-after {
                height: 300px;
            }

            .preview-card {
                padding: 20px 10px;
            }

            .pricing-card {
                padding: 25px 10px;
            }

            .guarantee-section {
                padding: 15px 10px;
            }

            .avatar-item {
                width: 35px;
                height: 35px;
            }
        }

        /* ANIMATIONS */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <!-- URGENCY BAR -->
    <div class="urgency-bar">
        <div class="urgency-content">
            <div class="urgency-left">
                <div class="urgency-text">
                    Nur noch <span class="urgency-number" id="available-count">2</span> vollst√§ndige Analysen heute verf√ºgbar!
                </div>
                <div class="data-deletion-note">
                    Deine Fotos und Antworten werden gel√∂scht in:
                </div>
            </div>
            <div class="timer" id="timer">11:47</div>
        </div>
    </div>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="container">
            <div class="hero-badge">‚úì Deine erste Einsch√§tzung ist fertig</div>
            <h1 class="hero-title">
                <span class="name-highlight" id="personalized-name">Dein</span> pers√∂nliches Style-Profil zeigt verborgene Potentiale
            </h1>
            <p class="hero-subtitle">
                Diese Ergebnisse basieren auf deinen Antworten ‚Äì die vollst√§ndige Analyse mit Foto-Auswertung zeigt dein wahres Style-Potenzial.
            </p>
        </div>
    </section>

    <!-- RESULTS SECTION -->
    <section class="results-section">
        <div class="container">
            <div class="results-grid">
                <div class="result-card animate-on-scroll">
                    <span class="result-icon">üëó</span>
                    <h4 class="result-title">Dein wahrscheinlicher K√∂rpertyp</h4>
                    <p class="result-text" id="body-type-analysis">
                        Basierend auf deinen Antworten deutet vieles auf eine <span class="result-highlight" id="detected-body-type">A-Form</span> hin. 
                        Das bedeutet, deine Schultern sind schmaler als deine H√ºften. 
                        <span class="result-highlight">Mit der Foto-Analyse kann Clara dies pr√§zise bestimmen und dir perfekt passende Schnitte empfehlen.</span>
                    </p>
                </div>
                
                <div class="result-card animate-on-scroll">
                    <span class="result-icon">üé®</span>
                    <h4 class="result-title">Deine Farbrichtung & erste Empfehlungen</h4>
                    <p class="result-text" id="color-analysis">
                        Deine Haarfarbe und Schmuckvorlieben deuten auf einen <span class="result-highlight" id="detected-color-type">warmen Farbtyp</span> hin. 
                        <span class="color-recommendations" id="color-recommendations">Goldt√∂ne, warme Braunt√∂ne und Erdfarben stehen dir besonders gut.</span>
                        <span class="result-highlight">Die professionelle Farbanalyse zeigt dir deine exakte Farbpalette mit √ºber 200 perfekten Farbt√∂nen.</span>
                    </p>
                </div>
                
                <div class="result-card animate-on-scroll">
                    <span class="result-icon">üí´</span>
                    <h4 class="result-title">Deine gr√∂√üte Style-Herausforderung</h4>
                    <p class="result-text" id="challenge-analysis">
                        Du k√§mpfst wahrscheinlich damit, dass <span class="result-highlight" id="detected-challenge">vieles zu weit oder zu eng wirkt</span>. 
                        Das liegt an der falschen Passform f√ºr deinen K√∂rpertyp.
                        <span class="result-highlight">Clara zeigt dir genau, welche Schnitte und Proportionen deine Figur optimal zur Geltung bringen.</span>
                    </p>
                </div>
            </div>
            
            <!-- CTA SECTION AFTER RESULTS -->
            <div class="results-cta-section">
                <div class="results-cta-card">
                    <h3 class="results-cta-title">Du willst genauere Infos?</h3>
                    <p class="results-cta-subtitle">Die vollst√§ndige Analyse mit Foto-Auswertung zeigt dir dein wahres Style-Potenzial</p>
                    <button class="results-cta-button" onclick="document.getElementById('pricing').scrollIntoView({behavior: 'smooth'})">
                        Jetzt vollst√§ndige Analyse erhalten
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- PREVIEW SECTION -->
    <section class="preview-section">
        <div class="container">
            <div class="preview-card animate-on-scroll">
                <div class="preview-badge">Vollst√§ndige Analyse verf√ºgbar</div>
                <h3 class="preview-title">Das erwartet dich in deiner kompletten Style-Analyse</h3>
                
                <div class="insight-grid">
                    <div class="insight-item">
                        <img src="4.png" alt="Foto-Auswertung Beispiel" class="insight-image" />
                        <h4 class="insight-title">üì∏ Professionelle Foto-Auswertung</h4>
                        <p class="insight-text">Clara analysiert deine Fotos und bestimmt deinen exakten K√∂rpertyp, Proportionen und Farbtyp mit 95%iger Genauigkeit.</p>
                    </div>
                    
                    <div class="insight-item">
                        <img src="3.png" alt="Personalisierte Styling-Empfehlungen" class="insight-image" />
                        <h4 class="insight-title">üéØ Personalisierte Empfehlungen</h4>
                        <p class="insight-text">Konkrete Schnitte, Materialien und Styling-Tipps, die perfekt zu deiner individuellen Figur passen.</p>
                    </div>
                    
                    <div class="insight-item">
                        <img src="5.png" alt="Perfekte Farbpalette" class="insight-image" />
                        <h4 class="insight-title">üåà Deine perfekte Farbpalette</h4>
                        <p class="insight-text">√úber 200 Farbt√∂ne, die dich strahlen lassen - von Basics bis zu Statement-Farben.</p>
                    </div>
                    
                    <div class="insight-item">
                        <img src="2.png" alt="Fr√ºhlings-Look Shopping-Guide" class="insight-image" />
                        <h4 class="insight-title">üõçÔ∏è Shopping-Guide</h4>
                        <p class="insight-text">Konkrete Marken und Shops, wo du deine optimalen Pieces findest - spare Zeit und Geld.</p>
                    </div>
                </div>

                <div class="unlock-section">
                    <div class="clara-analysis-section">
                        <img src="ClaraArbeitNeu.jpeg" alt="Clara bei der pers√∂nlichen Analyse" class="clara-analysis-image">
                        <div class="clara-analysis-content">
                            <h4 class="unlock-title">Ich analysiere es dir pers√∂nlich</h4>
                            <p class="unlock-subtitle">Clara wertet jedes Foto individuell aus und erstellt deine ma√ügeschneiderte Style-Strategie</p>
                        </div>
                    </div>
                    
                    <div class="unlock-features">
                        <div class="unlock-feature">
                            <span class="icon">‚úì</span>
                            <span>Exakte K√∂rpertyp-Bestimmung</span>
                        </div>
                        <div class="unlock-feature">
                            <span class="icon">‚úì</span>
                            <span>Pr√§zise Farbanalyse</span>
                        </div>
                        <div class="unlock-feature">
                            <span class="icon">‚úì</span>
                            <span>Individuelle Styling-Tipps</span>
                        </div>
                        <div class="unlock-feature">
                            <span class="icon">‚úì</span>
                            <span>Pers√∂nliche Audio-Botschaft</span>
                        </div>
                    </div>
                    
                    <!-- Money-back guarantee section -->
                    <div class="guarantee-section">
                        <div class="guarantee-icon">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="18" stroke="#00d4aa" stroke-width="2" fill="none"/>
                                <path d="M20 8C15.6 8 12 11.6 12 16C12 20.4 15.6 24 20 24C24.4 24 28 20.4 28 16C28 11.6 24.4 8 20 8Z" fill="#00d4aa"/>
                                <path d="M18 18L20 20L22 18" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M20 24V32" stroke="#00d4aa" stroke-width="2" stroke-linecap="round"/>
                                <circle cx="15" cy="28" r="2" fill="#667eea"/>
                                <circle cx="25" cy="28" r="2" fill="#667eea"/>
                            </svg>
                        </div>
                        <div class="guarantee-content">
                            <h4 class="guarantee-title">100% Geld-Zur√ºck-Garantie</h4>
                            
                            <div class="guarantee-stats">
                                <div class="guarantee-avatars">
                                    <img src="Profo1.png" alt="Kundin 1" class="avatar-item" />
                                    <img src="Profo2.png" alt="Kundin 2" class="avatar-item" />
                                    <img src="Profo3.png" alt="Kundin 3" class="avatar-item" />
                                </div>
                                <div class="guarantee-rating">
                                    <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                    <div class="stats-text">√úber 2.300 Kundinnen vertrauen Clara's Analyse</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PRICING -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <div class="pricing-header animate-on-scroll">
                <h2 class="section-title">Entdecke dein volles Style-Potenzial</h2>
                <p class="section-subtitle">üá©üá™ Made in Germany ‚Ä¢ üîí 100% verschl√ºsselt ‚Ä¢ üì± In 10h geliefert</p>
            </div>
            
            <div class="pricing-card animate-on-scroll">
                <div class="popular-badge">Beliebteste Wahl</div>
                <div class="sales-indicator" id="sales-counter">
                    <span class="live-indicator"></span>
                    In den letzten 24h 7 mal gekauft
                </div>
                
                <div class="price-container">
                    <span class="price-old">89,00‚Ç¨</span>
                    <span class="price-new">39,99‚Ç¨</span>
                </div>
                <p class="price-note">Einmalzahlung ‚Ä¢ Keine Abonnements ‚Ä¢ 14 Tage Geld-zur√ºck-Garantie</p>
                
                <div class="benefits-grid">
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">Vollst√§ndige Foto-Analyse in 10h geliefert</span>
                    </div>
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">12-seitige personalisierte Style-Analyse</span>
                    </div>
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">√úber 200 perfekte Farbt√∂ne f√ºr deinen Typ</span>
                    </div>
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">Pers√∂nliche Audio-Botschaft von Clara</span>
                    </div>
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">Konkrete Shopping-Empfehlungen</span>
                    </div>
                    <div class="benefit">
                        <span class="benefit-icon">‚úì</span>
                        <span class="benefit-text">Styling-Guide f√ºr jeden Anlass</span>
                    </div>
                </div>
                
                <button class="main-cta" onclick="quickCheckout()">
                    Jetzt vollst√§ndige Analyse erhalten
                </button>
                
                <div class="trust-indicators">
                    <div class="trust-item">
                        <span class="trust-icon">üõ°Ô∏è</span>
                        <div class="trust-text">14 Tage Geld-zur√ºck-Garantie</div>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">‚ö°</span>
                        <div class="trust-text">In 10 Stunden geliefert</div>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">üîí</span>
                        <div class="trust-text">100% sicher & DSGVO-konform</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS -->
    <section class="testimonials-section">
        <div class="container">
            <div class="pricing-header animate-on-scroll">
                <h2 class="section-title">Das sagen unsere Kundinnen</h2>
            </div>
            
            <div class="testimonials-grid">
                <div class="testimonial animate-on-scroll">
                    <div class="testimonial-before-after">
                        <img src="Sarah.png" alt="Sarah's Transformation" class="before-after-image" />
                    </div>
                    <div class="testimonial-header">
                        <img src="SarahPB.png" alt="Kundin Testimonial" class="testimonial-avatar">
                        <div>
                            <div class="testimonial-name">Sarah K.</div>
                            <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </div>
                    </div>
                    <p class="testimonial-text">"Schon die erste Einsch√§tzung war so hilfreich! Nach der vollst√§ndigen Analyse wei√ü ich endlich, welche Schnitte und Farben mir wirklich stehen."</p>
                </div>
                
                <div class="testimonial animate-on-scroll">
                    <div class="testimonial-before-after">
                        <img src="Lisa.png" alt="Lisa's Transformation" class="before-after-image" />
                    </div>
                    <div class="testimonial-header">
                        <img src="LisaPB.png" alt="Kundin Testimonial" class="testimonial-avatar">
                        <div>
                            <div class="testimonial-name">Lisa M.</div>
                            <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </div>
                    </div>
                    <p class="testimonial-text">"Die Basis-Tipps haben mir schon viel geholfen. Die vollst√§ndige Analyse mit Fotos war dann perfekt - endlich keine Fehlk√§ufe mehr!"</p>
                </div>
                
                <div class="testimonial animate-on-scroll">
                    <div class="testimonial-before-after">
                        <img src="Anna.png" alt="Anna's Transformation" class="before-after-image" />
                    </div>
                    <div class="testimonial-header">
                        <img src="AnnaPB.png" alt="Kundin Testimonial" class="testimonial-avatar">
                        <div>
                            <div class="testimonial-name">Anna B.</div>
                            <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </div>
                    </div>
                    <p class="testimonial-text">"Clara hat meine Figur perfekt analysiert. Die Shopping-Empfehlungen sind gold wert - ich spare so viel Zeit und Geld!"</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Clara Style-Analyse</h4>
                    <p>Individuelle Style-Beratung basierend auf professioneller K√∂rpertyp- und Farbanalyse.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Rechtliches</h4>
                    <ul>
                        <li><a href="/datenschutz.html">Datenschutz</a></li>
                        <li><a href="/impressum.html">Impressum</a></li>
                        <li><a href="/agb.html">AGB</a></li>
                        <li><a href="/widerruf.html">Widerrufsrecht</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="/geld-zurueck" style="color: #22C55E; font-weight: 600;">Geld-zur√ºck-Garantie</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Sicherheit</h4>
                    <div class="security-badges">
                        <div class="security-badge">
                            üîí SSL-verschl√ºsselt
                        </div>
                        <div class="security-badge">
                            üá©üá™ Made in Germany
                        </div>
                        <div class="security-badge">
                            ‚úì DSGVO-konform
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Clara's Style-Kompass. Alle Rechte vorbehalten.</p>
            </div>
        </div>
    </footer>

    <script>
        // Store demo data for personalization
        const demoData = {
            user_name: 'Anna',
            body_shape: 'A-Form',
            hair_color: 'Braun',
            jewelry_preference: 'Gold',
            shopping_difficulty: 'Passform Oberteile'
        };

        // ENHANCED DATA COLLECTION - Bessere Datensammlung
        function getAllStorageData() {
            console.log('=== ENHANCED DATA COLLECTION ===');
            const allData = {};
            
            // Sammle ALLE localStorage Daten
            try {
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    const value = localStorage.getItem(key);
                    
                    if (key && value && value !== 'null' && value !== 'undefined' && value.trim() !== '') {
                        allData[key] = value.trim();
                    }
                }
            } catch (e) {
                console.warn('localStorage Zugriff fehlgeschlagen:', e);
            }
            
            // Extrahiere photo_urls aus quizAnswers falls vorhanden
            if (allData.quizAnswers) {
                try {
                    const quizData = JSON.parse(allData.quizAnswers);
                    if (quizData.photo_urls && Array.isArray(quizData.photo_urls)) {
                        allData.photo_urls = quizData.photo_urls;
                    }
                } catch (e) {
                    console.warn('Could not parse quizAnswers for photo_urls extraction');
                }
            }
            
            // Stelle sicher, dass photo_urls als Array gesendet wird
            if (allData.photo_urls && typeof allData.photo_urls === 'string') {
                try {
                    allData.photo_urls = JSON.parse(allData.photo_urls);
                } catch (e) {
                    console.warn('Could not parse photo_urls as JSON');
                }
            }
            
            // Metadaten hinzuf√ºgen
            allData['_timestamp'] = new Date().toISOString();
            allData['_page_version'] = 'style_results_v1';
            allData['_user_agent'] = navigator.userAgent;
            allData['_screen_resolution'] = `${screen.width}x${screen.height}`;
            
            console.log('Gesammelte Daten:', Object.keys(allData));
            console.log('Photo URLs f√ºr Backend:', allData.photo_urls);
            console.log('Temp Photo Data vorhanden:', !!allData.temp_photo_data);
            
            return allData;
        }

        // QUICK CHECKOUT - Vereinfacht und robust
        async function quickCheckout() {
            const button = document.querySelector('.main-cta');
            const originalText = button.textContent;
            
            // Button-Status √§ndern
            button.disabled = true;
            button.textContent = 'Wird vorbereitet...';
            
            try {
                // Sammle ALLE localStorage Daten ohne Filterung
                const userData = {};
                
                // Kopiere ALLES aus localStorage
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    const value = localStorage.getItem(key);
                    if (key && value) {
                        userData[key] = value;
                    }
                }
                
                // Metadaten hinzuf√ºgen
                userData['_timestamp'] = new Date().toISOString();
                userData['_checkout_from'] = 'ergebnis_page';
                
                console.log('=== CHECKOUT DATEN ===');
                console.log('Anzahl localStorage Keys:', Object.keys(userData).length);
                console.log('temp_photo_data vorhanden:', !!userData.temp_photo_data);
                console.log('photo_urls vorhanden:', !!userData.photo_urls);
                console.log('quizAnswers vorhanden:', !!userData.quizAnswers);
                
                button.textContent = 'Daten werden √ºbertragen...';
                
                // API-Aufruf mit besserer Fehlerbehandlung
                const response = await fetch('/api/checkout', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(userData)
                });
                
                console.log('API Response Status:', response.status);
                console.log('API Response Headers:', response.headers);
                
                if (response.ok) {
                    const responseData = await response.text(); // Erst als Text lesen
                    console.log('API Response Text:', responseData);
                    
                    try {
                        const jsonData = JSON.parse(responseData);
                        console.log('API Response JSON:', jsonData);
                    } catch (e) {
                        console.log('Response ist kein JSON, aber OK Status');
                    }
                    
                    button.textContent = 'Erfolgreich! Weiterleitung...';
                } else {
                    const errorText = await response.text();
                    console.error('API Fehler:', response.status, errorText);
                    button.textContent = 'Fehler - trotzdem weiterleiten...';
                }
                
                // Kurz warten und dann zu Stripe
                setTimeout(() => {
                    window.location.href = 'https://buy.stripe.com/8x25kCdmK8OL6io2JN1VK04';
                }, 1500);
                
            } catch (error) {
                console.error('Checkout Fehler:', error);
                button.textContent = 'Fehler - Bitte erneut versuchen';
                button.disabled = false;
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.disabled = false;
                }, 3000);
            }
        }

        // ENHANCED CHECKOUT FUNCTION (mit Backend f√ºr Datensammlung)
        async function startCheckout() {
            try {
                // Sammle alle localStorage Daten
                const userData = getAllStorageData();
                
                // Pr√ºfe ob tempor√§re Fotos vorhanden sind und lade sie hoch
                const tempPhotos = localStorage.getItem('temp_photo_data');
                if (tempPhotos) {
                    try {
                        const photoData = JSON.parse(tempPhotos);
                        console.log('Uploading temp photos:', photoData.length);
                        
                        // Hier w√ºrden Sie die Fotos zu Cloudinary/AWS hochladen
                        // F√ºr jetzt simulieren wir URLs
                        const photoUrls = photoData.map((photo, index) => 
                            `https://your-storage.com/photo-${Date.now()}-${index}.jpg`
                        );
                        
                        // Speichere die URLs
                        userData.photo_urls = photoUrls;
                        localStorage.setItem('photo_urls', JSON.stringify(photoUrls));
                        
                        // L√∂sche tempor√§re Daten
                        localStorage.removeItem('temp_photo_data');
                        
                        console.log('Photos converted to URLs:', photoUrls);
                    } catch (error) {
                        console.error('Error processing temp photos:', error);
                    }
                }
                
                console.log('=== SENDING USER DATA TO SUPABASE ===', userData);
                
                // Sende Daten an dein Backend/Supabase
                // KORRIGIERTE QUICK CHECKOUT FUNKTION
async function quickCheckout() {
    const button = document.querySelector('.main-cta');
    const originalText = button.textContent;
    
    // Button-Status √§ndern
    button.disabled = true;
    button.textContent = 'Wird vorbereitet...';
    
    try {
        // Sammle ALLE localStorage Daten ohne Filterung
        const userData = {};
        
        // Kopiere ALLES aus localStorage
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            const value = localStorage.getItem(key);
            if (key && value) {
                userData[key] = value;
            }
        }
        
        // Metadaten hinzuf√ºgen
        userData['_timestamp'] = new Date().toISOString();
        userData['_checkout_from'] = 'ergebnis_page';
        
        console.log('=== CHECKOUT DATEN ===');
        console.log('Anzahl localStorage Keys:', Object.keys(userData).length);
        console.log('temp_photo_data vorhanden:', !!userData.temp_photo_data);
        console.log('photo_urls vorhanden:', !!userData.photo_urls);
        console.log('quizAnswers vorhanden:', !!userData.quizAnswers);
        
        button.textContent = 'Daten werden √ºbertragen...';
        
        // API-Aufruf mit besserer Fehlerbehandlung
        const response = await fetch('/api/checkout', {
            method: 'POST',
            headers: { 
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
        });
        
        console.log('API Response Status:', response.status);
        
        if (response.ok) {
            button.textContent = 'Daten gespeichert! Weiterleitung...';
            
            // Versuche JSON zu parsen
            try {
                const jsonData = await response.json();
                console.log('API Response JSON:', jsonData);
                
                // Verwende die URL vom Backend falls vorhanden
                if (jsonData.url) {
                    console.log('‚úÖ Redirecting to backend URL:', jsonData.url);
                    window.location.href = jsonData.url;
                    return;
                }
            } catch (jsonError) {
                console.log('Response kein JSON, verwende Fallback URL');
            }
            
            // Fallback: Direkte Stripe-URL
            setTimeout(() => {
                window.location.href = 'https://buy.stripe.com/8x25kCdmK8OL6io2JN1VK04';
            }, 1000);
            
        } else {
            const errorText = await response.text();
            console.error('API Fehler:', response.status, errorText);
            throw new Error(`API Error: ${response.status}`);
        }
        
    } catch (error) {
        console.error('Checkout Fehler:', error);
        button.textContent = 'Fehler - Bitte erneut versuchen';
        button.disabled = false;
        
        // Zeige Fehlermeldung
        alert('Es gab einen Fehler beim Speichern deiner Daten. Bitte versuche es erneut.');
        
        setTimeout(() => {
            button.textContent = originalText;
        }, 3000);
    }
}
                
                // Weiterleitung zu Stripe nach erfolgreichem Daten-Upload
                if (responseData.url || responseData.checkout_url) {
                    const redirectUrl = responseData.url || responseData.checkout_url;
                    console.log('‚úÖ Data saved, redirecting to Stripe:', redirectUrl);
                    window.location.href = redirectUrl;
                } else {
                    // Fallback: Direkte Stripe-URL wenn keine URL vom Backend kommt
                    console.log('‚úÖ Data saved, using fallback Stripe URL');
                    window.location.href = 'https://buy.stripe.com/8x25kCdmK8OL6io2JN1VK04';
                }
                
            } catch (error) {
                console.error('‚ùå CHECKOUT ERROR:', error);
                
                // Bei Fehler: Trotzdem zu Stripe weiterleiten (damit der Checkout nicht blockiert wird)
                console.log('‚ö†Ô∏è Error occurred, redirecting to Stripe anyway');
                window.location.href = 'https://buy.stripe.com/8x25kCdmK8OL6io2JN1VK04';
                
                // Optional: Zeige kurze Fehlermeldung
                const errorMessage = document.createElement('div');
                errorMessage.style.cssText = `
                    position: fixed; top: 20px; right: 20px; z-index: 10000;
                    background: #ff6b6b; color: white; padding: 15px 20px;
                    border-radius: 8px; font-weight: 600; max-width: 300px;
                `;
                errorMessage.textContent = 'Daten konnten nicht gespeichert werden, Weiterleitung l√§uft...';
                document.body.appendChild(errorMessage);
                
                setTimeout(() => errorMessage.remove(), 3000);
            }
        }

        // PERSONALIZATION BASED ON ANSWERS
        // VERBESSERTE PERSONALIZATION FUNKTION
function personalizeResults() {
    console.log('=== ENHANCED PERSONALIZING RESULTS ===');
    
    // 1. Sammle ALLE localStorage Daten
    const allData = {};
    for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        const value = localStorage.getItem(key);
        if (key && value && value !== 'null' && value !== 'undefined') {
            allData[key] = value.trim();
        }
    }
    
    console.log('All localStorage data:', allData);
    console.log('Available keys:', Object.keys(allData));
    
    // 2. Parse quizAnswers falls vorhanden
    let quizAnswers = {};
    if (allData.quizAnswers) {
        try {
            quizAnswers = JSON.parse(allData.quizAnswers);
            console.log('Parsed quiz answers:', quizAnswers);
        } catch (e) {
            console.warn('Could not parse quizAnswers:', e);
        }
    }
    
    // 3. Parse einzelne Antworten falls sie als JSON gespeichert sind
    const parsedAnswers = {};
    Object.keys(allData).forEach(key => {
        const value = allData[key];
        if (value.startsWith('{') || value.startsWith('[')) {
            try {
                parsedAnswers[key] = JSON.parse(value);
            } catch (e) {
                // Ignore, keep as string
            }
        }
    });
    
    // 4. Kombiniere alle Datenquellen (Reihenfolge wichtig!)
    const combinedData = {
        ...demoData,      // Fallback-Daten
        ...allData,       // localStorage Strings
        ...parsedAnswers, // Geparste JSON-Daten
        ...quizAnswers    // Quiz-Antworten (h√∂chste Priorit√§t)
    };
    
    console.log('Combined data for analysis:', combinedData);
    
    // 5. DEBUGGING: Zeige alle m√∂glichen Schl√ºssel an
    console.log('=== DEBUGGING DATA SEARCH ===');
    
    // Suche nach K√∂rpertyp mit erweiterten Schl√ºsseln
    const bodyShapeKeys = [
        'body_shape', 'body_type', 'koerperform', 'figure_type', 'bodyShape', 'bodyType',
        'question1', 'step1', 'answer1', 'k√∂rperform', 'figur', 'k√∂rpertyp',
        'shoulder_hip_relation', 'waist_definition', 'body_silhouette'
    ];
    
    console.log('Searching for body shape in these keys:', bodyShapeKeys);
    
    let foundBodyShape = '';
    let bodyShapeSource = '';
    
    for (const key of bodyShapeKeys) {
        if (combinedData[key]) {
            foundBodyShape = combinedData[key];
            bodyShapeSource = key;
            console.log(`‚úÖ Found body shape: "${foundBodyShape}" in key: "${key}"`);
            break;
        } else {
            console.log(`‚ùå No data in key: "${key}"`);
        }
    }
    
    // Suche nach Haarfarbe
    const hairColorKeys = [
        'hair_color', 'haarfarbe', 'hairColor', 'hair_colour',
        'question2', 'step2', 'answer2', 'haarfarbe_auswahl'
    ];
    
    console.log('Searching for hair color in these keys:', hairColorKeys);
    
    let foundHairColor = '';
    let hairColorSource = '';
    
    for (const key of hairColorKeys) {
        if (combinedData[key]) {
            foundHairColor = combinedData[key];
            hairColorSource = key;
            console.log(`‚úÖ Found hair color: "${foundHairColor}" in key: "${key}"`);
            break;
        }
    }
    
    // Suche nach Schmuckvorliebe
    const jewelryKeys = [
        'jewelry_preference', 'schmuck', 'jewelry', 'jewelryPreference',
        'question3', 'step3', 'answer3', 'schmuckvorliebe', 'metall_praeferenz'
    ];
    
    console.log('Searching for jewelry preference in these keys:', jewelryKeys);
    
    let foundJewelry = '';
    let jewelrySource = '';
    
    for (const key of jewelryKeys) {
        if (combinedData[key]) {
            foundJewelry = combinedData[key];
            jewelrySource = key;
            console.log(`‚úÖ Found jewelry: "${foundJewelry}" in key: "${key}"`);
            break;
        }
    }
    
    // Suche nach Shopping-Problemen
    const shoppingKeys = [
        'shopping_difficulty', 'shopping_problems', 'einkaufsprobleme', 'shoppingDifficulty',
        'styling_challenge', 'stylingChallenge', 'problem', 'herausforderung',
        'question4', 'step4', 'answer4', 'shopping_frustration'
    ];
    
    console.log('Searching for shopping difficulty in these keys:', shoppingKeys);
    
    let foundShopping = '';
    let shoppingSource = '';
    
    for (const key of shoppingKeys) {
        if (combinedData[key]) {
            foundShopping = combinedData[key];
            shoppingSource = key;
            console.log(`‚úÖ Found shopping difficulty: "${foundShopping}" in key: "${key}"`);
            break;
        }
    }
    
    console.log('=== FINAL FOUND VALUES ===');
    console.log('Body Shape:', foundBodyShape, 'from:', bodyShapeSource);
    console.log('Hair Color:', foundHairColor, 'from:', hairColorSource);
    console.log('Jewelry:', foundJewelry, 'from:', jewelrySource);
    console.log('Shopping:', foundShopping, 'from:', shoppingSource);
    
    // 6. ERWEITERTE MAPPING-LOGIK
    
    // Body Type Mapping
    let detectedBodyType = 'A-Form'; // Fallback
    if (foundBodyShape) {
        const bodyShapeLower = foundBodyShape.toLowerCase();
        console.log('Analyzing body shape:', bodyShapeLower);
        
        if (bodyShapeLower.includes('o') || bodyShapeLower.includes('apple') || bodyShapeLower.includes('rundlich') || bodyShapeLower.includes('oval')) {
            detectedBodyType = 'O-Form';
        } else if (bodyShapeLower.includes('x') || bodyShapeLower.includes('sanduhr') || bodyShapeLower.includes('hourglass') || bodyShapeLower.includes('8')) {
            detectedBodyType = 'X-Form';
        } else if (bodyShapeLower.includes('v') || bodyShapeLower.includes('triangle') || bodyShapeLower.includes('schultern') || bodyShapeLower.includes('breite schultern')) {
            detectedBodyType = 'V-Form';
        } else if (bodyShapeLower.includes('i') || bodyShapeLower.includes('rechteck') || bodyShapeLower.includes('gerade') || bodyShapeLower.includes('rectangle')) {
            detectedBodyType = 'I-Form';
        } else if (bodyShapeLower.includes('a') || bodyShapeLower.includes('birne') || bodyShapeLower.includes('pear') || bodyShapeLower.includes('h√ºfte')) {
            detectedBodyType = 'A-Form';
        }
    }
    
    // Color Type Mapping
    let detectedColorType = 'warmen Farbtyp'; // Fallback
    if (foundHairColor || foundJewelry) {
        const hairLower = foundHairColor.toLowerCase();
        const jewelryLower = foundJewelry.toLowerCase();
        
        console.log('Analyzing color indicators:', { hairLower, jewelryLower });
        
        if (jewelryLower.includes('silber') || hairLower.includes('asch') || hairLower.includes('k√ºhl') || hairLower.includes('platinum') || hairLower.includes('grau')) {
            detectedColorType = 'k√ºhlen Farbtyp';
        } else if (jewelryLower.includes('beide') || jewelryLower.includes('gleich') || jewelryLower.includes('egal')) {
            detectedColorType = 'neutralen Farbtyp';
        } else if (jewelryLower.includes('gold') || hairLower.includes('warm') || hairLower.includes('braun') || hairLower.includes('rot') || hairLower.includes('honey')) {
            detectedColorType = 'warmen Farbtyp';
        }
    }
    
    // Challenge Mapping
    let detectedChallenge = 'vieles zu weit oder zu eng wirkt'; // Fallback
    if (foundShopping) {
        const shoppingLower = foundShopping.toLowerCase();
        
        console.log('Analyzing shopping challenge:', shoppingLower);
        
        if (shoppingLower.includes('passform') || shoppingLower.includes('oberteile') || shoppingLower.includes('schulter') || shoppingLower.includes('brust')) {
            detectedChallenge = 'die Passform an Schultern/Oberweite nicht stimmt';
        } else if (shoppingLower.includes('h√ºfte') || shoppingLower.includes('po') || shoppingLower.includes('unterteil') || shoppingLower.includes('hintern')) {
            detectedChallenge = 'H√ºfte und Po sich zu sehr betonen';
        } else if (shoppingLower.includes('taille') || shoppingLower.includes('bauch') || shoppingLower.includes('mitte')) {
            detectedChallenge = 'deine Taille nicht zur Geltung kommt';
        } else if (shoppingLower.includes('weit') || shoppingLower.includes('eng') || shoppingLower.includes('gr√∂√üe')) {
            detectedChallenge = 'alles an dir zu weit/zu eng wirkt';
        } else if (shoppingLower.includes('proportion') || shoppingLower.includes('ausgewogen') || shoppingLower.includes('balance')) {
            detectedChallenge = 'deine Proportionen unausgewogen wirken';
        } else if (shoppingLower.includes('farbe') || shoppingLower.includes('ton')) {
            detectedChallenge = 'die falschen Farben dich fahl aussehen lassen';
        } else if (shoppingLower.includes('stil') || shoppingLower.includes('look') || shoppingLower.includes('einheitlich')) {
            detectedChallenge = 'du keinen einheitlichen Stil findest';
        }
    }
    
    console.log('=== FINAL DETECTED VALUES ===');
    console.log('Body Type:', detectedBodyType);
    console.log('Color Type:', detectedColorType);
    console.log('Challenge:', detectedChallenge);
    
    // 7. UPDATE HTML ELEMENTS
    updateElementSafely('detected-body-type', detectedBodyType);
    updateElementSafely('detected-color-type', detectedColorType);
    updateElementSafely('detected-challenge', detectedChallenge);
    
    // 8. UPDATE DETAILED SECTIONS
    updateBodyAnalysis(detectedBodyType);
    updateColorAnalysis(detectedColorType, foundHairColor, foundJewelry);
    updateChallengeAnalysis(detectedChallenge, foundShopping);
}

// Hilfsfunktion f√ºr sicheres Element-Update
function updateElementSafely(elementId, value) {
    const element = document.getElementById(elementId);
    if (element) {
        element.textContent = value;
        console.log(`‚úÖ Updated ${elementId} with: ${value}`);
    } else {
        console.error(`‚ùå Element not found: ${elementId}`);
    }
}

// ERWEITERTE UPDATE-FUNKTIONEN
function updateBodyAnalysis(bodyType) {
    const element = document.getElementById('body-type-analysis');
    if (!element) {
        console.error('‚ùå body-type-analysis element not found');
        return;
    }
    
    let description = '';
    let tips = '';
    
    switch (bodyType) {
        case 'O-Form':
            description = 'Das bedeutet, deine K√∂rpermitte ist etwas breiter als Schultern und H√ºften.';
            tips = 'Empire-Schnitte und V-Ausschnitte strecken deine Silhouette optimal. ';
            break;
        case 'X-Form':
            description = 'Das bedeutet, du hast eine ausgepr√§gte Taille bei proportionalen Schultern und H√ºften.';
            tips = 'Betone deine nat√ºrliche Taille mit taillierten Schnitten und vermeide kastige Oberteile. ';
            break;
        case 'V-Form':
            description = 'Das bedeutet, deine Schultern sind breiter als deine H√ºften.';
            tips = 'Setze auf flie√üende Stoffe und A-Linien-Schnitte im unteren Bereich, um deine Proportionen auszugleichen. ';
            break;
        case 'I-Form':
            description = 'Das bedeutet, du hast eine eher gerade, athletische Silhouette.';
            tips = 'Schaffe Kurven mit G√ºrteln, R√ºschen und Wickelkleidern f√ºr mehr Weiblichkeit. ';
            break;
        default: // A-Form
            description = 'Das bedeutet, deine Schultern sind schmaler als deine H√ºften.';
            tips = 'Betone deine Schultern mit strukturierten Oberteilen und w√§hle A-Linien-R√∂cke, die deine Taille definieren. ';
    }
    
    element.innerHTML = `
        Basierend auf deinen Antworten deutet vieles auf eine <span class="result-highlight">${bodyType}</span> hin. 
        ${description} ${tips}
        <span class="result-highlight">Mit der Foto-Analyse kann Clara dies pr√§zise bestimmen und dir perfekt passende Schnitte empfehlen.</span>
    `;
    
    console.log(`‚úÖ Updated body analysis for ${bodyType}`);
}

function updateColorAnalysis(colorType, hairColor, jewelry) {
    const element = document.getElementById('color-analysis');
    const recommendationsElement = document.getElementById('color-recommendations');
    if (!element) {
        console.error('‚ùå color-analysis element not found');
        return;
    }
    
    let colors = '';
    let reasoning = '';
    
    if (colorType.includes('k√ºhlen')) {
        colors = 'Trage Navy, k√ºhles Grau, Silber und Icy-T√∂ne f√ºr den perfekten Look. ';
        reasoning = hairColor ? `Deine ${hairColor} Haare` : 'Deine Haarfarbe';
        if (jewelry && jewelry.toLowerCase().includes('silber')) {
            reasoning += ' und deine Vorliebe f√ºr Silber';
        }
    } else if (colorType.includes('neutralen')) {
        colors = 'Du kannst sowohl Gold als auch Silber tragen - ein gro√üer Vorteil! ';
        reasoning = 'Deine ausgeglichenen Merkmale';
    } else {
        colors = 'Setze auf Camel, warmes Braun, Gold und Korallent√∂ne f√ºr deinen Hautton. ';
        reasoning = hairColor ? `Deine ${hairColor} Haare` : 'Deine Haarfarbe';
        if (jewelry && jewelry.toLowerCase().includes('gold')) {
            reasoning += ' und deine Vorliebe f√ºr Gold';
        }
    }
    
    element.innerHTML = `
        ${reasoning} ${jewelry ? 'und Schmuckvorlieben deuten' : 'deutet'} auf einen <span class="result-highlight">${colorType}</span> hin. 
        <span class="color-recommendations">${colors}</span>
        <span class="result-highlight">Die professionelle Farbanalyse zeigt dir deine exakte Farbpalette mit √ºber 200 perfekten Farbt√∂nen.</span>
    `;
    
    if (recommendationsElement) {
        recommendationsElement.textContent = colors;
    }
    
    console.log(`‚úÖ Updated color analysis for ${colorType}`);
}

function updateChallengeAnalysis(challenge, originalDifficulty) {
    const element = document.getElementById('challenge-analysis');
    if (!element) {
        console.error('‚ùå challenge-analysis element not found');
        return;
    }
    
    let impact = 'Du hast das Gef√ºhl, nie das Richtige zu finden und gibst frustriert auf. ';
    let solution = 'Das liegt an der falschen Passform f√ºr deinen K√∂rpertyp.';
    
    if (challenge.includes('Passform') || challenge.includes('Schultern')) {
        impact = 'Du f√ºhlst dich unwohl und versteckst deinen Oberk√∂rper, anstatt ihn zu feiern. ';
        solution = 'Das liegt an der falschen Passform f√ºr deine Oberweite und Schultern.';
    } else if (challenge.includes('H√ºfte') || challenge.includes('Po')) {
        impact = 'Du vermeidest enge Kleidung und f√ºhlst dich in deinem K√∂rper nicht wohl. ';
        solution = 'Das liegt an den falschen Schnitten f√ºr deine H√ºftpartie.';
    } else if (challenge.includes('Taille')) {
        impact = 'Du wirkst kastig und deine Weiblichkeit kommt nicht zur Geltung. ';
        solution = 'Das liegt daran, dass deine Taille nicht richtig betont wird.';
    } else if (challenge.includes('Farben')) {
        impact = 'Du siehst m√ºde und fahl aus, obwohl du dich gut f√ºhlst. ';
        solution = 'Das liegt an den falschen Farben f√ºr deinen Hautton.';
    }
    
    element.innerHTML = `
        Du k√§mpfst wahrscheinlich damit, dass <span class="result-highlight">${challenge}</span>. 
        ${impact}${solution}
        <span class="result-highlight">Clara zeigt dir genau, welche Schnitte und Proportionen deine Figur optimal zur Geltung bringen.</span>
    `;
    
    console.log(`‚úÖ Updated challenge analysis for ${challenge}`);
}

        // TIMER AND COUNTERS
        let timeLeft = 12 * 60; // 12 minutes
        let availableCount = 2;
        let salesCount = 7;
        let deletionTimeLeft = 24 * 60 * 60 - (12 * 60); // 24h minus 12 minutes

        function updateTimer() {
            const timerElement = document.getElementById('timer');
            if (!timerElement) return;

            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

            if (timeLeft <= 5 * 60) {
                timerElement.style.color = '#ff6b6b';
                timerElement.classList.add('pulse-animation');
            }

            if (timeLeft > 0) {
                timeLeft--;
                setTimeout(updateTimer, 1000);
            } else {
                timerElement.textContent = "ABGELAUFEN";
                timerElement.style.color = '#ff6b6b';
            }
        }

        function updateDeletionTimer() {
            const deletionTimerElement = document.getElementById('deletion-timer');
            if (!deletionTimerElement) return;

            const hours = Math.floor(deletionTimeLeft / 3600);
            const minutes = Math.floor((deletionTimeLeft % 3600) / 60);
            deletionTimerElement.textContent = `${hours}:${minutes.toString().padStart(2, '0')}`;

            if (deletionTimeLeft > 0) {
                deletionTimeLeft--;
                setTimeout(updateDeletionTimer, 1000);
            }
        }

        function updateCounters() {
            const countElement = document.getElementById('available-count');
            const salesElement = document.getElementById('sales-counter');

            if (countElement) {
                countElement.textContent = availableCount;
                if (availableCount <= 1) {
                    countElement.style.color = '#ff6b6b';
                    countElement.classList.add('pulse-animation');
                }
            }

            if (salesElement) {
                salesElement.innerHTML = `<span class="live-indicator"></span>In den letzten 24h ${salesCount} mal gekauft`;
            }
        }

        // SCROLL ANIMATIONS
        function initScrollAnimations() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            elements.forEach(element => {
                observer.observe(element);
            });
        }

        // COUNTER UPDATES
        function scheduleCounterUpdates() {
            // Decrease availability after 3 minutes
            setTimeout(() => {
                if (availableCount > 0) {
                    availableCount = 1;
                    salesCount = 8;
                    updateCounters();
                }
            }, 180000);

            // Final urgency after 8 minutes
            setTimeout(() => {
                if (availableCount > 0) {
                    availableCount = 0;
                    salesCount = 9;
                    updateCounters();
                    
                    // Update urgency text
                    const urgencyText = document.querySelector('.urgency-text');
                    if (urgencyText) {
                        urgencyText.innerHTML = 'Letzte Chance! <span class="urgency-number">Heute ausverkauft</span> - nur noch Warteliste m√∂glich!';
                    }
                }
            }, 480000);
        }

        // INITIALIZE EVERYTHING
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== INITIALIZING STYLE RESULTS PAGE ===');
            
            personalizeResults();
            updateTimer();
            updateDeletionTimer();
            updateCounters();
            scheduleCounterUpdates();
            
            setTimeout(() => {
                initScrollAnimations();
            }, 500);
        });

        // TRACK USER ENGAGEMENT
        let engagementScore = 0;
        let scrollDepth = 0;
        let timeOnPage = Date.now();

        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            scrollDepth = Math.max(scrollDepth, currentScroll / maxScroll);
        });

        // Store engagement data
        window.addEventListener('beforeunload', () => {
            const timeSpent = Date.now() - timeOnPage;
            try {
                localStorage.setItem('engagement_time', timeSpent.toString());
                localStorage.setItem('scroll_depth', (scrollDepth * 100).toFixed(0));
            } catch (e) {
                console.log('Could not store engagement data');
            }
        });
    </script>
</body>
</html>